<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pixelmyqube</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Carga JSZip de forma síncrona para asegurar disponibilidad -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <link rel="stylesheet" href="assets/style.css">
</head>
<body class="bg-black font-sans flex flex-col items-center justify-center min-h-screen p-4">

    <div class="bg-white shadow-xl rounded-lg p-6 w-full max-w-4xl">
        
        <h1 class="text-3xl font-bold text-center text-gray-800 mb-6">PixelmyQube</h1>
        
        <div class="flex flex-col lg:flex-row gap-6">

            <!-- Panel Izquierdo -->
            <div class="flex-shrink-0 lg:w-1/3">
                <div class="bg-gray-50 p-4 rounded-lg shadow-inner">
                    <h2 class="text-xl font-semibold mb-4 text-gray-700">Controls</h2>

                    <!-- Paleta -->
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-600 mb-2">Color</label>
                        <div id="color-palette" class="flex flex-wrap gap-3 items-center">
                            <div class="color-swatch active" data-color="null" style="background-color: #f0f0f0; background-image: url('data:image/svg+xml;utf8,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%2224%22 height=%2224%22 viewBox=%220 0 24 24%22 fill=%22none%22 stroke=%22currentColor%22 stroke-width=%222%22 stroke-linecap=%22round%22 stroke-linejoin=%22round%22 class=%22feather feather-delete%22><path d=%22M21 4H8l-7 8 7 8h13a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z%22></path><line x1=%2218%22 y1=%229%22 x2=%2212%22 y2=%2215%22></line><line x1=%2212%22 y1=%229%22 x2=%2218%22 y2=%2215%22></line></svg>'); background-size: 60%; background-position: center; background-repeat: no-repeat;" title="Eraser"></div>
                            <div class="color-swatch" data-color="#E53E3E" style="background-color: #E53E3E" title="Red"></div>
                            <div class="color-swatch" data-color="#38A169" style="background-color: #38A169" title="Green"></div>
                            <div class="color-swatch" data-color="#3182CE" style="background-color: #3182CE" title="Blue"></div>
                            <div class="color-swatch" data-color="#FC6D09" style="background-color: #FC6D09" title="Orange"></div>
                            <div class="color-swatch" data-color="#FFFFFF" style="background-color: #FFFFFF; border: 1px solid #ddd;" title="White"></div>
                            
                            <input type="color" id="color-picker" class="w-10 h-10 p-0 border-none cursor-pointer rounded-full" value="#FF0000">
                        </div>
                    </div>

                    <!-- Botones -->
                    <div class="flex flex-col gap-3 mt-6">
                        <button id="clear-btn" class="w-full bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-4 rounded-lg transition-colors">
                            Clear Grid
                        </button>
                        <button id="download-btn" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg transition-colors" disabled>
                            Loading model...
                        </button>
                    </div>

                    <!-- Estadísticas -->
                    <div id="stats-container" class="mt-6">
                        <h3 class="text-lg font-semibold text-gray-700">Statistics</h3>
                        <div class="bg-white p-3 rounded mt-2">
                            <p id="pixel-count-total" class="text-sm text-gray-600">Total: 0 pixels</p>
                            <div id="pixel-count-colors" class="mt-2 text-sm"></div>
                        </div>
                    </div>

                </div>
            </div>

            <!-- Grid -->
            <div class="flex-grow flex items-center justify-center">
                <div id="grid-container" class="shadow-lg"></div>
            </div>

        </div> 
    </div> 

    <footer class="text-center text-gray-600 text-sm mt-8 pb-4">
        by <a href="https://okuyuki.cc" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:underline">Okuyuki</a> for Cooler Master: FreeForm Playground Contest. <span id="app-version" class="ml-2 font-semibold"></span>
    </footer>

    <script src="assets/3mfgenerator.js" defer></script>

</body>
</html>
